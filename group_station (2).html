{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
    <link rel="stylesheet" href="{% static 'css/test.css' %}" />

    <title>Document</title>
</head>
<body>
    <div id="header">
        <img id="logo_wm" src="{% static 'img/wm.png' %}" />
        <img id="logo_whenmeet" src="{% static 'img/WhenMeet.png' %}" />
    </div>
    <div>
        <img id="navigate" src="{% static 'img/navigate.png' %}">
    </div>
    <div id="full">
        <div id="main">
            <div id="up">
                <div id="middle_title">언제만나 팀의 중간 지점</div>
                <!-- user n 파트를 데이터 내 사용자명으로 받아오는 방법!! -->
                <div id="group">
                    {% for user in user_list %}
                    <span class="user">{{ user.name }}</span>
                    {% endfor %}
                    <!-- <span id="user">{{ user.name }}</span>
                    <span id="user">{{ user.name }}</span>
                    <span id="user">user3</span>
                    <span id="user">user4</span>
                    <span id="user">user5</span>
                    <span id="user">user6</span> -->
                </div>
            </div>
    <div id="map" style=" margin-left: auto;
    margin-right: auto; height: 400px;"></div>
    </div>
    <div id="text">
        <!-- count 파트 => 데이터  -->
        <span id="first_text">최대 인원 </span>
        <span id="count">6명</span>
        <span>이 만날 수 있는 중간 지점은 </span>
        <span id="middle_place">{{station}}</span>
        <span>입니다.</span>
        <button type="button" id="result">결과 보기</button>
    </div>
</div>
<div class="modal_wrap">
    <!-- 모임 일자, 시간 => 데이터 -->
    <div>모임 일자</div>
    <span>8/15</span>
    <span>14시</span>
    <div>모임 장소</div>
    <span>{{station}}</span></br>  
    <button type="button" class="goBack">뒤로가기</button>
    <button type="button" class="goSpace">그룹 스페이스</button>
</div>
    <!-- 
        'station': wwmgroup.meeting_station,
        'latitude_station': station['위도'], 
        'longitude_station': station['경도']
     -->

    <!-- <div id="station">{{station}}</div>
    <div id="latitude_station">{{latitude_station}}</div>
    <div id="longitude_station">{{longitude_station}}</div> -->

    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=d69a7a5478026221a062ef69c9c7cb29&libraries=services"></script>
    <script src="{% static 'js/middle.js' %}"></script>
    <script>
        jQuery(function($){
            for(var i=0 ; i < $(".user").length; i++){
                var f_color = "#"+(parseInt(Math.random()*0xffffff)).toString(16);
                $(".user").eq(i).css("background-color",f_color);
        }
});
    </script>
    
	<script>
        var latitude_station = "{{latitude_station}}"; 
        var longitude_station = "{{longitude_station}}"; 

        latitude_station *= 1;
        longitude_station *= 1;
        
        
        var container = document.getElementById('map');
            var options = {
                center: new kakao.maps.LatLng(longitude_station, latitude_station),
                level: 3
            };
            var map = new kakao.maps.Map(container, options);

        
	</script>
    <script>var positions = [
         {
          title: "centerPos",
          latlng:new kakao.maps.LatLng(longitude_station, latitude_station),
        },
      ];
      
      // 마커 이미지의 이미지 주소입니다
      var imageSrc =
        "https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png";
      
      for (var i = 0; i < positions.length; i++) {
        // 마커 이미지의 이미지 크기 입니다
        var imageSize = new kakao.maps.Size(24, 35);
      
        // 마커 이미지를 생성합니다
        var markerImageOfCenter = new kakao.maps.MarkerImage(imageSrc, imageSize);
      
        // 마커를 생성합니다
        var marker = new kakao.maps.Marker({
          map: map, // 마커를 표시할 지도
          position: positions[i].latlng, // 마커를 표시할 위치
          title: positions[i].title, // 마커의 타이틀, 마커에 마우스를 올리면 타이틀이 표시됩니다
          image: markerImageOfCenter, // 마커 이미지
        });
        // marker.setMap(map);
      }</script>
</body>
</html>